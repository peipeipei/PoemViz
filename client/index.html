
<head>
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.4.8/d3.min.js"></script>
    <!-- <script src="index.js"> </script> -->
    
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
    <script src="https://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
    <!-- <link rel="stylesheet" type="text/css" href="index.css">  -->
    <link rel="stylesheet" href="//code.jquery.com/ui/1.11.0/themes/smoothness/jquery-ui.css">
    <script src="//code.jquery.com/ui/1.11.0/jquery-ui.js"></script>
    
    
</head>

<!--
<body>
</body>
-->

<template name="poem">
{{# if isReady}}
    <div class="toolbar">
        <!--<div class="btn-group" id="toggle">-->
        <!--    <span><button type="button" class="btn btn-default wordOption" data-active=false>Turn Text Off</button></span>-->
        <!--    <span><button type="button" class="btn btn-default puncOption" data-active=false>Lines by Punctuation</button></span>-->
        <!--</div>-->
    </div>
    
    <div class='container'>
        <!--<div class='row'>-->
            <div class='col-md-8 left' id='leftSide'>
            {{{poem}}}
            
            <!--{{# each pLine}}
                <p><span class='poemLine'><span class='line col-md-11' data-index={{this.index}}>
                {{# each word}}
                    <span class='word' data-index={{this.index}}>
                        {{# each letter}}
                            <span class='letter' data-index={{this.index}}>
                                {{this.text}}
                            </span>
                        {{/each}}
                    </span>
                    <span class='space' data-index= {{this.index}}>&nbsp;</span>
                {{/each}}
                </span></span></p>
            {{/each}}-->
            
            </div>
            <div class='col-md-4 right' id='layers'>
            <!--<div class = 'existingLayers'>
                <div class="layer" data-name="typing" id="typing0">
                    <div class="layerName">Text</div>

                    <div class="btn-group" id="toggle">
                        <span><button type="button" class="btn btn-default copyPoem" id="trigger-overlay">Editable Text</button></span>
                        <span><button type="button" class="btn btn-default wordOption" data-active=false>Turn Text Off</button></span>
                        <span><button type="button" class="btn btn-default puncOption" data-active=false>Lines by Punctuation</button></span>
                    </div>

                </div>
                <div class='layer' data-name='rhyme' id="color0">
                    <div class='layerName'>Rhyme</div>
                    Highlight:
                    <select class='rhymeSelect'>
                        <option value='line'>Line</option>
                        <option value='word'>Word</option>
                        <option value='letter'>Letter</option>
                    </select>
                    <div class='highlighting'>
                        <span class='highlightColors'><div class='colorSquare eraseHighlight' data-color='transparent'></div></span>
                        <button class='addColor'>
                        
                        </button>
                    </div>
                    <span class='visibilitySpan'>Visibility: <input type="checkbox" data-layer='rhyme' class='visibility' checked></span>
                    <span class="layerOpacitySpan">Opacity: <input type="text" class="span2" value="opacity" data-slider-min="0" data-slider-max="10" data-slider-step="1" data-slider-value="10" data-slider-orientation="vertical" data-slider-selection="after" data-slider-tooltip="hide"></span>
                </div>

                <div class='layer' data-name='syllable' id='syllable0'>
                    <div class='layerName'>Syllables</div>
                    <div class='info'> Please show the syllable breaks WITHIN words, the ones between words have already been counted.</div>
                    <span class='visibilitySpan'>Visibility: <input type="checkbox" data-layer='syllable' class='visibility' checked></span>
                    <div class="btn-group" id="toggle">
                        <span><button type="button" class="btn btn-default syllablesClear">Clear All Syllable Marks</button></span>
                        <span><button type="button" class="btn btn-default syllablesGrid" data-gridded=false>Grid</button></span>
                    </div>
                </div>
            </div>-->
            
            {{# each layer}}
                {{# if equals type 'typing'}}
                    <div class="layer" data-name="typing" id={{this.id}}>
                        <div class="layerName" contenteditable=true onfocus="this.value = this.value;">{{this.name}}</div>
                        <div class="btn-group" id="toggle">
                           <span><button type="button" class="btn btn-default wordOption" data-active=false>Turn Text Off</button></span>
                           <span><button type="button" class="btn btn-default puncOption" data-active=false>Lines by Punctuation (Refresh Page)</button></span>
                        </div>
                        <br>
                        <br>
                        Stress:
                        <select class='stressSelect'>
                            <option value='stressWord'>Word</option>
                            <!--<option value='stressSyllable'>Syllable</option>-->
                            <option value='stressLetter'>Letter</option>
                        </select>
                        
                        <br>
                        <!--Style:
                        <select class='rhymeSelect'>
                            <option value='none'>None</option>
                            <option value='bold'>Bold</option>
                            <option value='itatlics'>Italicize</option>
                            <option value='strike'>Strike Through</option>
                        </select>  -->
                    </div>
                {{/if}}
                {{# if equals type 'rhyme'}}
                    <div class='layer' data-name='rhyme' id={{this.id}}>
                        <div class="layerName" contenteditable=true>{{this.name}}</div>
                        Highlight:
                        <select class='rhymeSelect'>
                            <option value='line'>Line</option>
                            <option value='word'>Word</option>
                            <option value='letter'>Letter</option>
                        </select>
                        <div class='highlighting'>
                            <span class='highlightColors'>
                                <div class='colorSquare' data-color='rgba(255,153,153,1)' style='background-color:rgba(255,153,153,1)'></div>
                                <div class='colorSquare' data-color='rgba(255,153,255,1)' style='background-color:rgba(255,153,255,1)'></div>
                            </span>
                            <button class='addColor'>
                                +
                            </button>
                        </div>
                        <span class='visibilitySpan'>Visibility: <input type="checkbox" data-layer='rhyme' class='visibility' checked></span>
                         <span class="opacities">
                            <form action="">
                                Opacity:
                                <input type="radio" class="opacity" name="radioButton" id="opacity100" data-value="1" checked>100%
                                <input type="radio" class="opacity" name="radioButton" id="opacity60" data-value=".6">60%
                                <input type="radio" class="opacity" name="radioButton" id="opacity20" data-value=".2">20%
                            </form>    
                        </span>    
                    </div>
                {{/if}}
                    {{# if equals type 'syllable'}}
                    <div class='layer' data-name='syllable' id={{this.id}}>
                        <div class="layerName" contenteditable=true>{{this.name}}</div>
                        <div class='info'> Please show the syllable breaks WITHIN words, the ones between words have already been counted.</div>
                        <span class='visibilitySpan'>Visibility: <input type="checkbox" data-layer='syllable' class='visibility' checked></span>
                        <div class="btn-group" id="toggle">
                            <span><button type="button" class="btn btn-default syllablesClear">Clear All Syllable Marks</button></span>
                            <span><button type="button" class="btn btn-default syllablesGrid" data-gridded=false>Grid</button></span>
                        </div>
                    </div>
                {{/if}}
                {{# if equals type 'bold'}}
                    <div class='layer' data-name='bold' id={{this.id}}>
                        <div class="layerName" contenteditable=true>{{this.name}}</div>
                        Bold:
                        <select class='boldSelect'>
                            <option value='boldLine'>Line</option>
                            <option value='boldWord'>Word</option>
                            <option value='boldLetter'>Letter</option>
                        </select>
                        <div class='bolding'>
                            <span class='boldColors'>
                                <div class='colorSquare' data-color='#000' style='background-color:#000'></div>
                                <div class='colorSquare' data-color='#063' style='background-color:#063'></div>
                            </span>
                            <button class='addBoldColor'>
                                +
                            </button>
                        </div>
                        <span class='visibilitySpan'>Visibility: <input type="checkbox" data-layer='rhyme' class='visibility' checked></span>
                        <span class="layerOpacitySpan">Opacity: <input type="text" class="span2" value="opacity" data-slider-min="0" data-slider-max="10" data-slider-step="1" data-slider-value="10" data-slider-orientation="vertical" data-slider-selection="after" data-slider-tooltip="hide"></span>
                    </div>
                {{/if}}
            {{/each}}
            
                
                <div class="dropdown btn-group">
                    <a class="btn dropdown-toggle layers-menu" data-toggle="dropdown" href="#">
                        Add Layer
                        <span class="caret"></span>
                    </a>
                    <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                        <li><a class = "newColorLayer" href="#">Sound</a></li>
                        <li><a class = "newBarsLayer" href="#">Syllable</a></li>
                        <li><a class = "newColorLayer" href="#">Tone</a></li>
                        <li><a class = "newBoldLayer" href="#">Consonance/Assonance</a></li>
                        <li><a class = "newBoldLayer" href="#">Other Bolding</a></li>
                        <li><a class = "newColorLayer" href="#">Other Coloring</a></li>
                        <li><a class = "newBarsLayer" href="#">Other Vertical Bars</a></li>
                    </ul>
                </div>
            </div>
        <!--</div>-->
    </div>
    {{/if}}
</template>